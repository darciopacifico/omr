<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
xmlns="http://www.w3.org/1999/xhtml" 
xmlns:h="http://java.sun.com/jsf/html" 
xmlns:f="http://java.sun.com/jsf/core" 
xmlns:ui="http://java.sun.com/jsf/facelets"

xmlns:c="http://java.sun.com/jsp/jstl/core"
  xmlns:a4j="http://richfaces.org/a4j" 
  xmlns:rich="http://richfaces.org/rich" 
  xmlns:p="http://primefaces.org/ui" 
  xmlns:t="http://myfaces.apache.org/tomahawk" 
  template="/templates/template.xhtml"
>

  <ui:define name="body">

    <h:form prependId="false" styleClass="wufoo topLabel page1">

      <h2>Untitled Form zuba</h2>
      <div>This is my form. Please fill it out. It's awesome!</div>
      

      <h:outputScript library="js" name="jqueryNumericOnly.js" target="head"            />
      <h:outputScript library="js" name="jquery.maskedinput-1.3.min.js" target="head"   />

      <h:outputScript library="js" name="jquery-ui-1.8.18.custom.min.js" target="head"  />
      <h:outputStylesheet library="css" name="smoothness/jquery-ui-1.8.18.custom.css" target="head" />

      <h:panelGrid columns="2" id="gridPrincipal">

        <rich:panel>

          <f:facet name="header">Informações do Adesivo</f:facet>

          <ul>
            <h:outputLabel styleClass="desc" value="Veículo:" />

            <li class="notranslate">
              <div>
                <table class="tabDivisora" style="border-top: 1px dotted #CCC; width: 397px;">
                  <tr>
                    <td >
                      <h:outputLabel for="chkShowAnoFab" id="lblShowAnoFab">
                        <h:selectBooleanCheckbox id="chkShowAnoFab" value="#{anuncioBean.anuncioVO.showMap.strModFab}" >
                          <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                        </h:selectBooleanCheckbox>
                          Ano Fab/Modelo
                        </h:outputLabel>
                      <h:selectOneMenu id="cboAnoFab" value="#{anuncioBean.anuncioVO.veiculoVO.anoFab}" >
                        <f:selectItems value="#{anuncioBean.anosFab}" />
                        <a4j:ajax event="change" execute="@this cboAnoMod" render="cboAnoMod"></a4j:ajax>
                        <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                      </h:selectOneMenu>
                      <h:selectOneMenu id="cboAnoMod" value="#{anuncioBean.anuncioVO.veiculoVO.anoMod}">
                        <f:selectItems value="#{anuncioBean.anosMod}" />
                        <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                      </h:selectOneMenu>
                    </td>



                    <td>
                      <h:outputLabel for="chkShowCombustivel">
                        <h:selectBooleanCheckbox id="chkShowCombustivel" value="#{anuncioBean.anuncioVO.showMap.combustivel}">
                          <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                        </h:selectBooleanCheckbox>      
                          Combustível
                        </h:outputLabel>
                      <h:selectOneMenu id="cboCombustivel" value="#{anuncioBean.anuncioVO.veiculoVO.combustivel}" >
                        <f:selectItems value="#{anuncioBean.combustivelList}" var="c" itemDescription="${c.desc}" itemLabel="${c.desc}" />
                        <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                      </h:selectOneMenu>
                    </td>
                    
                    <td>
                      <h:outputLabel for="chkShowCilindrada">
                        <h:selectBooleanCheckbox id="chkShowCilindrada" value="#{anuncioBean.anuncioVO.showMap.cilindrada}">
                          <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                        </h:selectBooleanCheckbox>      
                          Motor
                        </h:outputLabel>
                      <h:selectOneMenu id="cboCilindrada" value="#{anuncioBean.anuncioVO.veiculoVO.cilindrada}" style="width:50px;" >
                        <f:selectItems value="#{anuncioBean.cilindradaList}" var="c"  />
                        <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                      </h:selectOneMenu>
                    </td>
                    
                    <td>
                      <h:outputLabel for="chkShowCambio">
                        <h:selectBooleanCheckbox id="chkShowCambio" value="#{anuncioBean.anuncioVO.showMap.cambio}">
                          <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                        </h:selectBooleanCheckbox>      
                          Câmbio
                        </h:outputLabel>
                      <h:selectOneMenu id="cboCambio" listWidth="3" value="#{anuncioBean.anuncioVO.veiculoVO.cambio}">
                        <f:selectItems value="#{anuncioBean.cambioList}" />
                        <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                      </h:selectOneMenu>
                    </td>
                    <td>
                      <h:outputLabel for="chkShowValor">
                        <h:selectBooleanCheckbox id="chkShowValor" value="#{anuncioBean.anuncioVO.showMap.valorF}">
                          <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                        </h:selectBooleanCheckbox>      
                          Valor R$
                        </h:outputLabel>
                      <h:inputText id="txtValor" value="#{anuncioBean.anuncioVO.valor}" maxlength="8" size="3">
                        <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                      </h:inputText>
                      <rich:jQuery selector="#txtValor" query="ForceNumericOnly()" />
                    </td>



                  </tr>
                </table>
              </div>
            </li>

                      <p:inputText
                      	id="txtSubTit" 
                      	value="#{anuncioBean.anuncioVO.adesivoVO.campos.linhaSubTitulo.valor}"  
                      	maxlength="50" 
                      	size="20" 
                      	disabled="#{!anuncioBean.anuncioVO.customOpc}" 
                      	styleClass="txtCustom" 
                      	style="font-size: 30px;" >
                      	
                        <a4j:ajax event="change" execute="pnlDizeres" render="imgSample" />
                      </p:inputText>

        			  <p:watermark for="txtSubTit" value="Search with a keyword" /> 

            <li class="notranslate">
              <p:spacer height="15"></p:spacer>
              <h:outputLabel styleClass="desc" value="Contato Anunciante:" />
              <div>

                <table class="tabDivisora" style="border-top: 1px dotted #CCC; width: 397px;">
                  <tr>
                    <td>
                      <h:outputLabel value="" for="chkShowNome">

                        <h:selectBooleanCheckbox id="chkShowNome" value="#{anuncioBean.anuncioVO.showMap['pessoaVO.nomeF']}">
                          <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                        </h:selectBooleanCheckbox>      
                          Tratar com:
                        </h:outputLabel>
                      <h:inputText id="txtAnunciante" value="#{anuncioBean.anuncioVO.pessoaVO.nome}" size="6" maxlength="20">
                        <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                      </h:inputText>
                    </td>
                    <td>
                      <h:outputLabel for="chkShowTel1">
                        <h:selectBooleanCheckbox id="chkShowTel1" value="#{anuncioBean.anuncioVO.showMap['pessoaVO.telefone1']}">
                          <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                        </h:selectBooleanCheckbox>      
                          Telefone 1
                        </h:outputLabel>
                      <h:inputText id="txtTelefone1" value="#{anuncioBean.anuncioVO.pessoaVO.telefone1}" size="16" maxlength="23">
                        <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                      </h:inputText>
                    </td>
                    <td>
                      <h:outputLabel for="chkShowTel2">

                        <h:selectBooleanCheckbox id="chkShowTel2" value="#{anuncioBean.anuncioVO.showMap['pessoaVO.telefone2']}">
                          <f:ajax event="change" execute="@this" render="pnlSampleAnuncio" />
                        </h:selectBooleanCheckbox>      
                          Telefone 2
                        </h:outputLabel>
                      <h:inputText id="txtTelefone2" value="#{anuncioBean.anuncioVO.pessoaVO.telefone2}" size="16" maxlength="23">
                        <f:ajax event="change" execute="@this" render="pnlSampleAnuncio"></f:ajax>
                      </h:inputText>
                    </td>
                  </tr>
                </table>
              </div>
            </li>


            <li class="notranslate">
              <h:outputLabel styleClass="desc" value="Opcionais:" />
			
              <div id="accordion" style="width: 400px; display: none;" >

                <h3><a href="#">Opcionais</a></h3>
                <div>
                  <t:selectManyCheckbox value="#{anuncioBean.anuncioVO.veiculoVO.mappedList['OPCIONAL']}" layoutWidth="3" layout="pageDirection" converter="opcionalJSONConverter" id="chk1" >
                    <a4j:ajax execute="@this" render="pnlSampleAnuncio pnlDizeres" />
                    <f:attribute name="collectionType" value="java.util.ArrayList" />
                    <f:selectItems value="#{anuncioBean.getOpcionais('OPCIONAL')}" />
                  </t:selectManyCheckbox>
                  <t:selectManyCheckbox value="#{anuncioBean.anuncioVO.veiculoVO.mappedList['OPCIONAL_LUXO']}" layoutWidth="3" layout="pageDirection" converter="opcionalJSONConverter" id="chk2" >
                    <a4j:ajax execute="@this" render="pnlSampleAnuncio pnlDizeres" />
                    <f:attribute name="collectionType" value="java.util.ArrayList" />
                    <f:selectItems value="#{anuncioBean.getOpcionais('OPCIONAL_LUXO')}" />
                  </t:selectManyCheckbox>

                  <t:selectManyCheckbox value="#{anuncioBean.anuncioVO.veiculoVO.mappedList['SEGURANCA']}" layoutWidth="3" layout="pageDirection" converter="opcionalJSONConverter" id="chk3">
                    <a4j:ajax execute="@this" render="pnlSampleAnuncio" />
                    <f:attribute name="collectionType" value="java.util.ArrayList" />
                    <f:selectItems value="#{anuncioBean.getOpcionais('SEGURANCA')}" />
                  </t:selectManyCheckbox>
                </div>
                
                <h3><a href="#">Som / Multimídia / Alarme</a></h3>
                <div>
                  <t:selectManyCheckbox value="#{anuncioBean.anuncioVO.veiculoVO.mappedList['SOM']}" layoutWidth="3" layout="pageDirection" converter="opcionalJSONConverter" id="chk8">
                    <a4j:ajax execute="@this" render="pnlSampleAnuncio pnlDizeres" />
                    <f:attribute name="collectionType" value="java.util.ArrayList" />
                    <f:selectItems value="#{anuncioBean.getOpcionais('SOM')}" />
                  </t:selectManyCheckbox>
                  <t:selectManyCheckbox value="#{anuncioBean.anuncioVO.veiculoVO.mappedList['PROTECAO']}" layoutWidth="3" layout="pageDirection" converter="opcionalJSONConverter" id="chk5">
                    <a4j:ajax execute="@this" render="pnlSampleAnuncio pnlDizeres" />
                    <f:attribute name="collectionType" value="java.util.ArrayList" />
                    <f:selectItems value="#{anuncioBean.getOpcionais('PROTECAO')}" />
                  </t:selectManyCheckbox>
                </div>
                
                <h3><a href="#">Documentação</a></h3>
                <div>
                  <t:selectManyCheckbox value="#{anuncioBean.anuncioVO.veiculoVO.mappedList['DOCUMENTACAO']}" layoutWidth="3" layout="pageDirection" converter="opcionalJSONConverter" id="chk9">
                    <a4j:ajax execute="@this" render="pnlSampleAnuncio pnlDizeres" />
                    <f:attribute name="collectionType" value="java.util.ArrayList" />
                    <f:selectItems value="#{anuncioBean.getOpcionais('DOCUMENTACAO')}" />
                  </t:selectManyCheckbox>
                </div>
                
                
              </div>

              <rich:jQuery query="accordion({ header: 'h3' })" selector="#accordion"></rich:jQuery>
                      
                      <h:inputTextarea
	                      rows="3" cols="28" 
	                      value="#{anuncioBean.anuncioVO.adesivoVO.campos.linhaOpcionais}"  
	                      disabled="#{!anuncioBean.anuncioVO.customOpc}" 
	                      styleClass="txtCustom"
	                      style="font-size: 22px;">
                        <a4j:ajax event="change" execute="pnlDizeres" render="imgSample" />
                      </h:inputTextarea>


            </li>



            <li class="notranslate">
              <p:spacer height="15"></p:spacer>
              <h:outputLabel styleClass="desc" value="Edição Manual Dizeres:" />
              <div>

                <table class="tabDivisora" style="border-top: 1px dotted #CCC; width: 397px;">
                  <tr>
                    <td style="white-space: normal;">
                      <h:panelGroup id="pnlDizeres" >
                      
                      <!-- 

                      linhaAno

                       -->

                      



                      <h:inputTextarea 
                      	rows="2" cols="20"
                      	value="#{anuncioBean.anuncioVO.adesivoVO.campos.linhaContatos}" 
                      	disabled="#{!anuncioBean.anuncioVO.customOpc}" 
                      	styleClass="txtCustom"
                      	style="font-size: 30px;" 
                      	>
                      	
                        <a4j:ajax event="change" execute="pnlDizeres" render="imgSample" />
                      </h:inputTextarea>


                      </h:panelGroup>

                    </td>
                  </tr>
                </table>

                <!-- 
                  <rich:jQuery selector="#txtTelefone1" query="mask('(99)9999-9999')" ></rich:jQuery>
                  <rich:jQuery selector="#txtTelefone2" query="mask('(99)9999-9999')" ></rich:jQuery>
                   -->

              </div>
            </li>



          </ul>
          
          <a4j:commandButton value="Salvar" action="#{anuncioBean.salvaAnuncio()}"  ></a4j:commandButton>
          
        </rich:panel>
        
        
      


        <h:panelGrid columns="1" layout="block">

          <h:panelGrid id="pnlSampleAnuncio" columns="1">
            <a4j:mediaOutput id="imgSample" styleClass="classAdesPrincipal" element="img" cacheable="false" 
            style="width:490px;" session="false" createContent="#{anuncioBean.paintModeloAnuncio}" value="" mimeType="image/png" />
          </h:panelGrid>

          <h:outputLabel styleClass="desc" >
            <a4j:commandLink  render="gridModelos" limitRender="true" title="Atualiza lista de modelos disponíveis..." >
              <h:graphicImage value="/img/Icons/refresh_ico.png" title="Atualiza lista de modelos disponíveis..." />
              Modelos de Adesivos:  
            </a4j:commandLink>
          </h:outputLabel>
          
          <rich:dataGrid value="#{anuncioBean.modelos}" var="modelo" columns="4" elements="4" styleClass="gridModelos" id="gridModelos"  style="width:500px; border: 1px;" >
              <a4j:commandLink action="#{anuncioBean.switchModel(modelo)}" render="pnlSampleAnuncio" >
                
                <a4j:mediaOutput styleClass="imgAdesLaterais" element="img"
                 
                cacheable="false" 
                session="false" 
                value="#{modelo.PK}" 
                createContent="#{anuncioBean.paintModeloSample}" 
                mimeType="image/png" 
                fileName="modelo_#{modelo.PK}.png"/>
                
              </a4j:commandLink>
            <f:facet name="footer">
                <rich:dataScroller stepControls="hide" fastControls="hide"  />
            </f:facet>                        
          </rich:dataGrid>
          


          
        </h:panelGrid>
        
      </h:panelGrid>
    </h:form>
  </ui:define>
</ui:composition>
